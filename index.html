<!doctype html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <title>Happy Birthday üéÇ</title>
  <style>
    :root{
      --bg:#fff0f6;
      --card:#ffffff;
      --accent:#e85a9d;
      --accent2:#ffda77;
      --text:#3b2b3b;
      --gradient:linear-gradient(135deg,#ff9ac9,#ffda77);
    }
    *{box-sizing:border-box}
    body{
      margin:0;
      font-family:'Poppins','Noto Sans Thai',sans-serif;
      background:var(--bg);
      color:var(--text);
      display:flex;
      align-items:center;
      justify-content:center;
      min-height:100vh;
      overflow-x:hidden;
    }
    .wrap{
      width:1000px;max-width:96%;
      background:#fff;
      border-radius:28px;
      padding:36px;
      box-shadow:0 20px 50px rgba(0,0,0,0.08);
      position:relative;
      overflow:hidden;
    }
    .wrap::before{
      content:"";
      position:absolute;
      top:-80px;left:-80px;
      width:200px;height:200px;
      background:var(--gradient);
      border-radius:50%;
      filter:blur(120px);
      opacity:.5;
    }
    .wrap::after{
      content:"";
      position:absolute;
      bottom:-100px;right:-100px;
      width:220px;height:220px;
      background:var(--gradient);
      border-radius:50%;
      filter:blur(140px);
      opacity:.5;
    }

    header{display:flex;align-items:center;gap:16px;margin-bottom:20px}
    .avatar{
      width:84px;height:84px;
      border-radius:50%;
      background:var(--gradient);
      display:flex;align-items:center;justify-content:center;
      font-weight:700;color:white;font-size:30px;
      box-shadow:0 8px 20px rgba(232,90,157,0.3);
    }
    h1{margin:0;font-size:30px;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent}
    p.lead{margin:8px 0 18px;color:#6b5666}

    .stage{display:flex;gap:32px;align-items:flex-start;flex-wrap:wrap}
    .card{
      flex:1;
      background:var(--card);
      border-radius:20px;
      padding:22px;
      box-shadow:0 10px 28px rgba(0,0,0,0.05);
      text-align:center;
      position:relative;
      z-index:1;
    }

    /* Cake */
    .cake-wrap{padding:20px}
    .cake{width:340px;height:240px;margin:0 auto;position:relative}
    .plate{position:absolute;left:50%;transform:translateX(-50%);bottom:6px;width:400px;height:40px;background:#fdfdfd;border-radius:50px;box-shadow:0 8px 20px rgba(0,0,0,0.08)}
    .layer{position:absolute;left:50%;transform:translateX(-50%);border-radius:18px}
    .layer.bottom{width:280px;height:120px;bottom:18px;background:linear-gradient(180deg,#ffbddb,#ff9ac9);box-shadow:inset 0 -10px 25px rgba(255,255,255,0.15)}
    .layer.top{width:240px;height:90px;bottom:90px;background:linear-gradient(180deg,#fff8e6,#ffda77)}
    .icing{position:absolute;left:50%;transform:translateX(-50%);width:280px;height:36px;bottom:132px;border-radius:18px;background:linear-gradient(90deg,#ffffffdd,#ffffffaa);filter:drop-shadow(0 2px 6px rgba(0,0,0,0.08))}

    /* Candles */
    .candles{position:absolute;left:50%;transform:translateX(-50%);bottom:180px;display:flex;gap:14px}
    .candle{width:16px;height:46px;border-radius:6px;background:linear-gradient(180deg,#fff,#ffe);display:flex;align-items:flex-start;justify-content:center;position:relative;box-shadow:0 2px 6px rgba(0,0,0,0.05)}
    .candle::before{content:'';position:absolute;left:50%;transform:translateX(-50%);top:-8px;width:10px;height:10px;border-radius:50%;background:linear-gradient(180deg,#ffda77,#ff7a7a);filter:blur(0.6px)}
    .flame{position:absolute;top:-20px;left:50%;transform:translateX(-50%) scale(1);width:18px;height:26px;border-radius:50% 50% 50% 50%/60% 60% 40% 40%;background: radial-gradient(circle at 40% 30%,#fff, #ffda77 35%, #ff8a3d 60%);opacity:1;transition:0.35s ease;animation:flicker 1s infinite ease-in-out}
    .candle.out .flame{transform:translateX(-50%) scale(0);opacity:0}
    @keyframes flicker{0%{transform:translateX(-50%) scale(1);}50%{transform:translateX(-50%) scale(1.08);}100%{transform:translateX(-50%) scale(1);}}

    /* Controls */
    .controls{display:flex;gap:12px;justify-content:center;margin-top:16px}
    button{background:var(--accent);border:none;color:white;padding:10px 16px;border-radius:12px;font-weight:600;cursor:pointer;box-shadow:0 8px 22px rgba(232,90,157,0.2);transition:.3s}
    button:hover{transform:translateY(-2px);box-shadow:0 10px 26px rgba(232,90,157,0.3)}
    button.alt{background:var(--accent2);color:#5a3b00;box-shadow:0 8px 22px rgba(255,218,119,0.3)}

    /* Message */
    .message{margin-top:14px;font-size:18px;color:#5a3b4f}

    /* Confetti canvas */
    #confetti{position:absolute;left:0;top:0;width:100%;height:100%;pointer-events:none;z-index:10}

    /* Greeting */
    #greeting p{font-size:16px;margin:0;line-height:1.6;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent;font-weight:500}

    input{border-radius:12px;border:1px solid #eee;padding:8px 10px;font-size:14px;width:100%;}

    footer{text-align:center;margin-top:20px;color:#a78ca3;font-size:13px}

    @media(max-width:760px){.stage{flex-direction:column;align-items:center}.cake{transform:scale(0.95)} }
  </style>
</head>
<body>
  <div class="wrap" role="main">
    <canvas id="confetti"></canvas>
    <header>
      <div class="avatar" id="initials">19</div>
      <div>
        <h1>‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î üéâ</h1>
        <p class="lead"></p>
      </div>
    </header>

    <section class="stage" aria-label="birthday stage">
      <div class="card cake-wrap">
        <div class="cake" id="cake">
          <div class="plate"></div>
          <div class="layer bottom"></div>
          <div class="icing"></div>
          <div class="layer top"></div>
          <div class="candles" id="candles">
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
            <div class="candle"><div class="flame"></div></div>
          </div>
        </div>
        <div class="controls">
          <button id="lightBtn">‡∏à‡∏∏‡∏î‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô</button>
          <button id="wishBtn" class="alt">‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô</button>
          <button id="blowBtn">‡πÄ‡∏õ‡πà‡∏≤‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô</button>
        </div>
        <div class="message" id="msg">‡∏Å‡∏î "‡∏à‡∏∏‡∏î‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô" ‡πÄ‡∏û‡∏∑‡πà‡∏≠‡πÄ‡∏£‡∏¥‡πà‡∏° üéÇ</div>
      </div>

      <div class="card" style="max-width:340px;text-align:left">
        <h2 style="margin-top:6px;margin-bottom:8px;background:var(--gradient);-webkit-background-clip:text;-webkit-text-fill-color:transparent">‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£</h2>
        <div id="greeting">
          <p>‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î! ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç‡∏°‡∏≤‡∏Å‡πÜ ‡πÉ‡∏ô‡∏ó‡∏∏‡∏Å‡∏ß‡∏±‡∏ô‡∏ô‡∏∞  üíñ</p>
        </div>
        
      </div>
    </section>

    <footer>‚ú® ‡πÄ‡∏õ‡∏¥‡∏î‡πÑ‡∏ü‡∏•‡πå‡∏ô‡∏µ‡πâ‡πÉ‡∏ô‡πÄ‡∏ö‡∏£‡∏≤‡∏ß‡πå‡πÄ‡∏ã‡∏≠‡∏£‡πå‡πÅ‡∏•‡πâ‡∏ß‡∏™‡πà‡∏á‡πÄ‡∏õ‡πá‡∏ô‡∏Ç‡∏≠‡∏á‡∏Ç‡∏ß‡∏±‡∏ç‡πÑ‡∏î‡πâ‡πÄ‡∏•‡∏¢ ‚ú®</footer>
  </div>

  <script>
    const lightBtn=document.getElementById('lightBtn');
    const blowBtn=document.getElementById('blowBtn');
    const wishBtn=document.getElementById('wishBtn');
    const msg=document.getElementById('msg');
    const candles=document.querySelectorAll('.candle');
    const confettiCanvas=document.getElementById('confetti');
    const nameInput=document.getElementById('name');
    const initials=document.getElementById('initials');

    const audioCtx=new(window.AudioContext||window.webkitAudioContext)();
    function playTone(freq,duration=0.15){const o=audioCtx.createOscillator();const g=audioCtx.createGain();o.type='sine';o.frequency.value=freq;g.gain.value=0.02;o.connect(g);g.connect(audioCtx.destination);o.start();o.stop(audioCtx.currentTime+duration)}

    function lightCandles(){candles.forEach(c=>c.classList.remove('out'));msg.textContent='‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô‡∏™‡∏ß‡πà‡∏≤‡∏á‡πÅ‡∏•‡πâ‡∏ß ‚Äî ‡∏≠‡∏ò‡∏¥‡∏©‡∏ê‡∏≤‡∏ô‡∏Å‡πà‡∏≠‡∏ô‡πÄ‡∏õ‡πà‡∏≤ ‚ú®';playTone(880,0.2)}
    function blowCandles(){candles.forEach((c,i)=>{setTimeout(()=>{c.classList.add('out')},i*80)});msg.textContent='‡πÄ‡∏ó‡∏µ‡∏¢‡∏ô‡∏î‡∏±‡∏ö‡πÅ‡∏•‡πâ‡∏ß üéâ ‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î!';playTone(440,0.25);launchConfetti()}
    function wish(){const name=nameInput.value.trim()||'‡∏Ñ‡∏ô‡∏û‡∏¥‡πÄ‡∏®‡∏©';document.getElementById('greeting').innerHTML=`<p>‡∏™‡∏∏‡∏Ç‡∏™‡∏±‡∏ô‡∏ï‡πå‡∏ß‡∏±‡∏ô‡πÄ‡∏Å‡∏¥‡∏î ${name} ‚Äî ‡∏Ç‡∏≠‡πÉ‡∏´‡πâ‡∏õ‡∏µ‡∏ô‡∏µ‡πâ‡πÄ‡∏ï‡πá‡∏°‡πÑ‡∏õ‡∏î‡πâ‡∏ß‡∏¢‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏∏‡∏Ç ‡∏Ñ‡∏ß‡∏≤‡∏°‡∏£‡∏±‡∏Å ‡πÅ‡∏•‡∏∞‡∏Ñ‡∏ß‡∏≤‡∏°‡∏™‡∏≥‡πÄ‡∏£‡πá‡∏à üå∏</p>`;initials.textContent=name.slice(0,2).toUpperCase()||'19';msg.textContent='‡∏Ñ‡∏≥‡∏≠‡∏ß‡∏¢‡∏û‡∏£‡∏ñ‡∏π‡∏Å‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡πâ‡∏ß';playTone(660,0.18)}

    lightBtn.addEventListener('click',()=>{audioCtx.resume();lightCandles()});
    blowBtn.addEventListener('click',()=>{audioCtx.resume();blowCandles()});
    wishBtn.addEventListener('click',()=>{wish()});

    function launchConfetti(){const W=confettiCanvas.width=confettiCanvas.offsetWidth;const H=confettiCanvas.height=confettiCanvas.offsetHeight;const ctx=confettiCanvas.getContext('2d');const pieces=[];for(let i=0;i<100;i++){pieces.push({x:W/2+(Math.random()-0.5)*250,y:H/4+(Math.random()-0.5)*100,vx:(Math.random()-0.5)*6,vy:Math.random()*4+2,r:Math.random()*6+4,rot:Math.random()*360,vr:(Math.random()-0.5)*10,color:pickColor()})}let t=0;function frame(){ctx.clearRect(0,0,W,H);pieces.forEach(p=>{p.x+=p.vx;p.y+=p.vy;p.vy+=0.12;p.rot+=p.vr;ctx.save();ctx.translate(p.x,p.y);ctx.rotate(p.rot*Math.PI/180);ctx.fillStyle=p.color;ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r*0.6);ctx.restore()});t++;if(t<220)requestAnimationFrame(frame);else ctx.clearRect(0,0,W,H)}requestAnimationFrame(frame)}
    function pickColor(){const palette=['#e85a9d','#ffda77','#ff9ac9','#a7ffeb','#cda4ff','#ffd1e6'];return palette[Math.floor(Math.random()*palette.length)]}

    nameInput.addEventListener('keydown',e=>{if(e.key==='Enter'){wish()}});
    initials.textContent='19';
  </script>
</body>
</html>
